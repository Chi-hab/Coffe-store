{% extends 'index.html' %}



{% block content %}
<div class="max-w-3xl mx-auto mt-10 bg-white shadow-lg rounded-2xl p-6">
    <h1 class="text-2xl font-bold text-brown-800 mb-4">☕ Order Details</h1>

    <!-- معلومات الطلب -->
    <div class="mb-6">
        <p class="text-lg"><strong>Table Number:</strong> {{ order.table_num }}</p>
        <p class="text-gray-600"><strong>Date:</strong> {{ order.created_at|date:"d M Y H:i" }}</p>
    </div>

    <!-- المنتجات -->
    <table class="w-full border-collapse">
        <thead>
            <tr class="bg-brown-800 text-black">
                <th class="p-2 text-left">Product</th>
                <th class="p-2 text-center">Quantity</th>
                <th class="p-2 text-center">Price</th>
                <th class="p-2 text-center">Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in order.items.all %}
            <tr class="border-b">
                <td class="p-2">{{ item.product.name }}</td>
                <td class="p-2 text-center">{{ item.quantity }}</td>
                <td class="p-2 text-center">${{ item.price }} </td>
                <td class="p-2 text-center">{{ item.price|floatformat:2|add:item.quantity|floatformat:2  }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- المجموع -->
    <div class="flex justify-end mt-6">
        <p class="text-xl font-bold">Total: ${{ total_price }} </p>
    </div>

    <!-- زر رجوع -->
    <div class="mt-4">
        <a href="{% url 'home' %}" class="px-4 py-2 bg-brown-800 text-black rounded-lg shadow hover:bg-brown-900">⬅ Back to Home</a>
    </div>
</div>
{% endblock content %}
    